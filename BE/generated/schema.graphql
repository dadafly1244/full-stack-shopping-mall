### This file was generated by Nexus Schema
### Do not make changes to this file directly


type AuthPayload {
  refresh_token: String
  token: String
  user: User!
}

type Cart {
  created_at: DateTime!
  id: String!
  items: [CartItem!]!
  total_price: Int!
  updated_at: DateTime!
  user: User
  user_id: String!
}

type CartItem {
  cart: Cart
  cart_id: String!
  created_at: DateTime!
  id: String!
  product: Product
  product_id: String!
  quantity: Int!
  updated_at: DateTime!
}

type Category {
  category_parent_id: Int
  id: Int!
  name: String!
  parent: Category
  products: [Product!]!
  subcategories: [Category!]!
}

input CategoryOrderByInput {
  id: SortOrder
  name: SortOrder
}

type CustomError {
  code: String!
  message: String!
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

enum Gender {
  FEMALE
  MALE
  OTHER
  PREFER_NOT_TO_SAY
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Mutation {
  addToCart(product_id: String!, quantity: Int!, user_id: String!): Cart!
  adminManageReviewRealDelete(id: ID!, is_deleted: Boolean!): Review
  adminManageReviewSoftDelete(id: ID!, is_deleted: Boolean!): Review
  cancelOrder(order_id: String!, user_id: String!): Order
  createCategory(name: String!, parentId: Int): Category!
  createOrderFromCart(address: String!, cart_id: String!): Order
  createOrderFromCartItem(address: String!, cart_id: String!, cart_item_id: String!): Order
  createProduct(category_id: Int!, count: Int, desc: String, desc_images_path: [Upload!], is_deleted: Boolean, main_image_path: Upload!, name: String!, price: Int!, sale: Int, status: ProductStatus!, store_id: String!): Product!
  createReview(desc: String, images_path: Upload, parent_review_id: String, product_id: String!, score: Float!, title: String!, user_id: String!): Review
  createStore(business_registration_number: String!, desc: String, name: String!): Store
  createUser(email: String!, gender: Gender!, name: String!, password: String!, permissions: UserPermissions!, phone_number: String, status: UserStatus!, user_id: String!): User!
  deleteCategory(categoryId: Int!): Boolean
  deleteOrder(orderId: String!): Order
  deleteProductIfUnused(id: String!): Product!
  deleteStore(id: String!): Store
  mergeCategories(categoryId1: Int!, categoryId2: Int!, newName: String!): Category!
  refresh(refresh_token: String!): AuthPayload!
  removeFromCart(cart_item_id: ID!): CartItem!
  renameCategory(categoryId: Int!, newName: String!): Category!
  searchOrdersByStatus(page: Int! = 1, pageSize: Int! = 10, status: OrderStatus!): PaginatedOrdersResult!
  signin(password: String!, user_id: String!): AuthPayload!
  signout(id: String!): User!
  signup(email: String!, gender: Gender!, name: String!, password: String!, permissions: UserPermissions!, phone_number: String, status: UserStatus!, user_id: String!): AuthPayload!
  updateCartItemQuantity(cart_item_id: ID!, quantity: Int!): CartItem!
  updateMyProfile(currentPassword: String, email: String, gender: Gender, name: String, newPassword: String, phone_number: String, user_id: String): User
  updateOrderStatus(order_id: String!, status: OrderStatus!): Order
  updateProduct(category_id: Int, count: Int, desc: String, desc_images_path: [Upload!], id: String!, main_image_path: Upload, name: String, price: Int, sale: Int): Product!
  updateProductStatus(id: String!, status: ProductStatus!): Product!
  updateReview(desc: String, id: ID!, images_path: Upload, score: Float, title: String, user_id: String!): Review
  updateStore(business_registration_number: String, desc: String, id: String!, name: String): Store
  updateUser(email: String, gender: Gender, id: String!, name: String, permissions: UserPermissions, phone_number: String, user_id: String): User!
  updateUserStateActive(id: String!): AuthPayload!
  updateUserStateSuspended(id: String!): AuthPayload!
  uploadFile(file: Upload): Boolean
  withdrawal(password: String!, user_id: String!): User!
}

type Order {
  address: String
  cart: Cart
  cart_id: String
  created_at: DateTime!
  id: String!
  is_deleted: Boolean!
  order_details: [OrderDetail!]!
  status: OrderStatus!
  total_price: Int!
  updated_at: DateTime!
  user: User!
  user_id: String!
}

type OrderDetail {
  id: Int!
  order: Order!
  order_id: String!
  price_at_order: Int!
  product: Product!
  product_id: String!
  quantity: Int!
}

enum OrderStatus {
  CANCELLED
  DELIVERED
  ORDER
  READY_TO_ORDER
  REFUND
  UNKNOWN
}

type PageInfo {
  currentPage: Int!
  pageSize: Int!
  totalCount: Int!
  totalPages: Int!
}

type PaginatedOrdersResult {
  orders: [Order!]!
  pageInfo: PageInfo!
}

type PaginatedProductsResult {
  pageInfo: PageInfo!
  products: [Product!]!
}

type PaginatedUsersResponse {
  pageInfo: PageInfo!
  users: [User]!
}

type Product {
  carts: [Cart!]!
  categories: [Category!]!
  category: Category
  count: Int!
  created_at: DateTime!
  desc: String
  desc_images_path: [String]
  id: ID!
  is_deleted: Boolean!
  main_image_path: String
  name: String!
  price: Int!
  reviews: [Review!]!
  sale: Int
  status: ProductStatus!
  store: Store
  store_id: String!
  updated_at: DateTime!
}

enum ProductStatus {
  AVAILABLE
  DISCONTINUED
  OUT_OF_STOCK
  PROHIBITION_ON_SALE
  TEMPORARILY_OUT_OF_STOCK
}

type ProductsResultFormHome {
  ad: [Product!]!
  event: [Product!]!
  new: [Product!]!
}

type Query {
  categories(includeHierarchy: Boolean, orderBy: CategoryOrderByInput): [Category!]!
  category(id: Int!, includeHierarchy: Boolean): Category
  filteredUsers(searchField: String!, searchTerm: String!): [User]!
  getAllOrders(page: Int! = 1, pageSize: Int! = 10, status: OrderStatus): PaginatedOrdersResult!
  getAllProducts(page: Int! = 1, pageSize: Int! = 10): PaginatedProductsResult!
  getAllProductsForHomePage(category: String): ProductsResultFormHome!
  getOrder(order_id: String!): Order
  getProduct(id: String!): Product
  getProductDetailForHome(id: String!): Product
  getUserCart(user_id: String): Cart
  getUserOrder(order_id: String!, user_id: String!): Order
  getUserOrders(page: Int! = 1, pageSize: Int! = 10, user_id: String!): PaginatedOrdersResult!
  isDuplicated(email: String, user_id: String): UserBoolean
  isDuplicatedBusinessNumber(business_registration_number: String): Boolean
  myProfile: User
  paginatedReviews(isDeleted: Boolean, page: Int! = 1, pageSize: Int! = 5, productId: String!): ReviewConnection
  paginatedUsers(page: Int! = 1, pageSize: Int! = 10, searchField: String, searchTerm: String): PaginatedUsersResponse
  searchCategories(includeHierarchy: Boolean, nameContains: String!): [Category!]!
  searchOrders(searchTerm: String!): [Order!]!
  searchProducts(field: String, page: Int! = 1, pageSize: Int! = 10, searchTerm: String, store_id: String): PaginatedProductsResult!
  searchStores(searchTerm: String!): [Store]
  searchUserOrders(page: Int! = 1, pageSize: Int! = 10, searchTerm: String!, status: OrderStatus, user_id: String!): PaginatedOrdersResult!
  store(id: String!): Store
  stores: [Store]
  usersList: [User]!
}

type Review {
  childReviews: [Review]
  created_at: DateTime!
  desc: String
  id: String!
  images_path: String
  is_deleted: Boolean!
  parentReview: Review
  parent_review_id: String
  product: Product
  product_id: String!
  score: Float!
  title: String!
  updated_at: DateTime!
  user: User
  user_id: String!
}

type ReviewConnection {
  pageInfo: PageInfo!
  reviews: [Review!]!
}

enum SortOrder {
  asc
  desc
}

type Store {
  business_registration_number: String!
  desc: String
  id: ID!
  name: String!
  products: [Product!]
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  carts: [Cart!]
  created_at: DateTime!
  email: String!
  gender: Gender!
  id: ID!
  name: String!
  orders: [Order!]
  password: String!
  permissions: UserPermissions!
  phone_number: String
  reviews: [Review!]
  status: UserStatus!
  updated_at: DateTime!
  user_id: String!
}

type UserBoolean {
  duplicated: Boolean!
}

enum UserPermissions {
  ADMIN
  USER
}

enum UserStatus {
  ACTIVE
  INACTIVE
  SUSPENDED
}